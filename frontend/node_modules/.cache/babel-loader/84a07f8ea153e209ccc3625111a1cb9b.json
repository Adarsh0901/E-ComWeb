{"ast":null,"code":"import React,{useEffect}from'react';import{Link}from'react-router-dom';import{useDispatch,useSelector}from'react-redux';import Message from'../components/message';import Loader from'../components/loader';import{listProducts,deleteProduct,createProduct}from'../actions/productActions';import{PRODUCT_CREATE_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductListScreen=function ProductListScreen(_ref){var history=_ref.history,match=_ref.match;var dispatch=useDispatch();var productList=useSelector(function(state){return state.productList;});var loading=productList.loading,error=productList.error,products=productList.products;var productDelete=useSelector(function(state){return state.productDelete;});var loadingDelete=productDelete.loading,errorDelete=productDelete.error,successDelete=productDelete.success;var productCreate=useSelector(function(state){return state.productCreate;});var loadingCreate=productCreate.loading,errorCreate=productCreate.error,successCreate=productCreate.success,createdProduct=productCreate.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;useEffect(function(){dispatch({type:PRODUCT_CREATE_RESET});if(!userInfo.isAdmin){history.push('/login');}if(successCreate){history.push(\"/admin/product/\".concat(createdProduct._id,\"/edit\"));}else{dispatch(listProducts());}},[dispatch,history,userInfo,successDelete,createdProduct,successCreate]);var deleteHandler=function deleteHandler(id){if(window.confirm('Are You Sure?')){dispatch(deleteProduct(id));}};var createProductHandler=function createProductHandler(product){dispatch(createProduct());};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-10\",children:/*#__PURE__*/_jsx(\"h1\",{children:\"PRODUCTS LIST\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-dark\",onClick:createProductHandler,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus\"}),\" Create Product\"]})})]}),loadingDelete&&/*#__PURE__*/_jsx(Loader,{}),errorDelete&&/*#__PURE__*/_jsx(Message,{children:errorDelete}),loadingCreate&&/*#__PURE__*/_jsx(Loader,{}),errorCreate&&/*#__PURE__*/_jsx(Message,{children:errorCreate}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{children:error}):/*#__PURE__*/_jsxs(\"table\",{className:\"table table-responsive table-striped table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{children:\"NAME\"}),/*#__PURE__*/_jsx(\"th\",{children:\"PRICE\"}),/*#__PURE__*/_jsx(\"th\",{children:\"CATEGORY\"}),/*#__PURE__*/_jsx(\"th\",{children:\"BRAND\"}),/*#__PURE__*/_jsx(\"th\",{})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:products.map(function(product){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:product._id}),/*#__PURE__*/_jsx(\"td\",{children:product.name}),/*#__PURE__*/_jsxs(\"td\",{children:[\"$\",product.price]}),/*#__PURE__*/_jsx(\"td\",{children:product.category}),/*#__PURE__*/_jsx(\"td\",{children:product.brand}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:\"/admin/product/\".concat(product._id,\"/edit\"),children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm\",children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-edit\"})})}),/*#__PURE__*/_jsx(Link,{to:\"/admin/productlist\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-danger btn-sm\",onClick:function onClick(){return deleteHandler(product._id);},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-trash\"})})})]})]},product._id);})})]})]});};export default ProductListScreen;","map":{"version":3,"sources":["/Users/adarshshukla/Desktop/E-Com/frontend/src/screens/ProductListScreen.js"],"names":["React","useEffect","Link","useDispatch","useSelector","Message","Loader","listProducts","deleteProduct","createProduct","PRODUCT_CREATE_RESET","ProductListScreen","history","match","dispatch","productList","state","loading","error","products","productDelete","loadingDelete","errorDelete","successDelete","success","productCreate","loadingCreate","errorCreate","successCreate","createdProduct","product","userLogin","userInfo","type","isAdmin","push","_id","deleteHandler","id","window","confirm","createProductHandler","map","name","price","category","brand"],"mappings":"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","sourcesContent":["import React, { useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport {useDispatch, useSelector} from 'react-redux'\nimport Message from '../components/message'\nimport Loader from '../components/loader'\nimport {listProducts , deleteProduct, createProduct} from '../actions/productActions'\nimport {PRODUCT_CREATE_RESET} from '../constants/productConstants'\n\nconst ProductListScreen = ({history, match}) => {\n\n    const dispatch = useDispatch()\n\n    const productList = useSelector(state => state.productList)\n    const { loading, error, products } = productList\n\n    const productDelete = useSelector(state => state.productDelete)\n    const { loading: loadingDelete, error: errorDelete, success: successDelete } = productDelete\n\n    const productCreate = useSelector(state => state.productCreate)\n    const { loading: loadingCreate, error: errorCreate, success: successCreate ,product: createdProduct} = productCreate\n\n    const userLogin = useSelector(state => state.userLogin)\n    const { userInfo } = userLogin\n\n\n    useEffect(() => {\n        dispatch({type: PRODUCT_CREATE_RESET})\n        if(!userInfo.isAdmin){\n            history.push('/login')\n        }\n\n        if(successCreate){\n            history.push(`/admin/product/${createdProduct._id}/edit`)\n        }else{\n            dispatch(listProducts())\n        }\n    },[dispatch,history,userInfo, successDelete,createdProduct,successCreate])\n\n    const deleteHandler = (id) =>{\n        if(window.confirm('Are You Sure?')){\n            dispatch(deleteProduct(id))\n        }\n    }\n\n    const createProductHandler = (product) => {\n        dispatch(createProduct())\n    }\n    return (\n        <>\n            <div className=\"row align-items-center\">\n                <div className=\"col-md-10\">\n                    <h1>PRODUCTS LIST</h1>\n                </div>\n                <div className=\"col-md-2\">\n                    <button className=\"btn btn-dark\" onClick={createProductHandler}>\n                        <i className=\"fas fa-plus\"></i> Create Product\n                    </button>\n                </div>\n            </div>\n            {loadingDelete && <Loader/>}\n            {errorDelete && <Message>{errorDelete}</Message>}\n            {loadingCreate && <Loader/>}\n            {errorCreate && <Message>{errorCreate}</Message>}\n            {loading ? <Loader/> : error ? <Message>{error}</Message>: (\n                <table className=\"table table-responsive table-striped table-hover\">\n                    <thead>\n                        <tr>\n                            <th>ID</th>\n                            <th>NAME</th>\n                            <th>PRICE</th>\n                            <th>CATEGORY</th>\n                            <th>BRAND</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {products.map((product) => (\n                            <tr key={product._id}>\n                                <td>{product._id}</td>\n                                <td>{product.name}</td>\n                                <td>${product.price}</td>\n                                <td>{product.category}</td>\n                                <td>{product.brand}</td>\n                                <td>\n                                    <Link to={`/admin/product/${product._id}/edit`}>\n                                        <button className=\"btn btn-sm\">\n                                            <i className=\"fas fa-edit\"></i>\n                                        </button>\n                                    </Link>\n                                    <Link to={`/admin/productlist`}>\n                                        <button className=\"btn btn-danger btn-sm\" onClick={() => deleteHandler(product._id)}>\n                                            <i className=\"fas fa-trash\"></i>\n                                        </button>\n                                    </Link>\n                                </td>\n                            </tr>\n                        ))}\n                    </tbody>\n                </table>\n            )}\n        </>\n    )\n}\n\nexport default ProductListScreen\n"]},"metadata":{},"sourceType":"module"}