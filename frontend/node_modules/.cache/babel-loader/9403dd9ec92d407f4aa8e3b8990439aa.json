{"ast":null,"code":"import _toConsumableArray from\"/Users/adarshshukla/Desktop/E-Com/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/Users/adarshshukla/Desktop/E-Com/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import Rating from'../components/Rating';import Message from'../components/message';import Loader from'../components/loader';import{useDispatch,useSelector}from'react-redux';import{listProductDetails,createProductReview}from'../actions/productActions';import{PRODUCT_CREATE_REVIEW_RESET}from'../constants/productConstants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ProductScreen=function ProductScreen(_ref){var history=_ref.history,match=_ref.match;var _useState=useState(1),_useState2=_slicedToArray(_useState,2),qty=_useState2[0],setQty=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),rating=_useState4[0],setRating=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),comment=_useState6[0],setComment=_useState6[1];var dispatch=useDispatch();var productDetails=useSelector(function(state){return state.productDetails;});var loading=productDetails.loading,error=productDetails.error,product=productDetails.product;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var productReviewCreate=useSelector(function(state){return state.productReviewCreate;});var errorProductReview=productReviewCreate.error,successProductReview=productReviewCreate.success;useEffect(function(){if(successProductReview){alert('Rating Submitted!');setRating(0);setComment('');dispatch({type:PRODUCT_CREATE_REVIEW_RESET});}dispatch(listProductDetails(match.params.id));},[dispatch,match,successProductReview]);var addToCartHandler=function addToCartHandler(){history.push(\"/cart/\".concat(match.params.id,\"?qty=\").concat(qty));};var submitHandler=function submitHandler(e){e.preventDefault();dispatch(createProductReview(match.params.id,{rating:rating,comment:comment}));};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-light my-2\",to:\"/\",children:\"Go Back\"}),loading?/*#__PURE__*/_jsx(Loader,{}):error?/*#__PURE__*/_jsx(Message,{varient:\"danger\",children:error}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"img\",{className:\"img-fluid\",src:product.image,alt:product.name})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(\"h3\",{children:product.name})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(Rating,{value:product.rating,text:\"\".concat(product.numReviews,\" reviews\")})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[\"Price: $\",product.price]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(\"p\",{children:product.description})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"card\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:\"Price:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-7\",children:[\"$\",product.price]})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:\"Status:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7\",children:product.countInStock>0?'In Stock':'Out Of Stock'})]})}),product.countInStock>0&&/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-5\",children:\"Oty:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-7\",children:/*#__PURE__*/_jsx(\"select\",{value:qty,onChange:function onChange(e){return setQty(e.target.value);},children:_toConsumableArray(Array(product.countInStock).keys()).map(function(x){return/*#__PURE__*/_jsx(\"option\",{value:x+1,children:x+1},x+1);})})})]})}),/*#__PURE__*/_jsx(\"li\",{className:\"list-group-item\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-md-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-grid gap-2\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",type:\"button\",disabled:product.countInStock===0,onClick:addToCartHandler,children:\"Add To Cart\"})})})})})]})})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row py-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group list-group-flush\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"WRITE A CUSTOMER REVIEW\"}),errorProductReview&&/*#__PURE__*/_jsx(Message,{children:errorProductReview}),userInfo?/*#__PURE__*/_jsxs(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",id:\"rating\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",children:\"Rating\"}),/*#__PURE__*/_jsxs(\"select\",{className:\"form-select\",value:rating,onChange:function onChange(e){return setRating(e.target.value);},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"select rating...\"}),/*#__PURE__*/_jsx(\"option\",{value:\"1\",children:\"1-poor\"}),/*#__PURE__*/_jsx(\"option\",{value:\"2\",children:\"2-Fair\"}),/*#__PURE__*/_jsx(\"option\",{value:\"3\",children:\"3-Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"4\",children:\"4-Very Good\"}),/*#__PURE__*/_jsx(\"option\",{value:\"5\",children:\"5-Excellent\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",id:\"comment\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"mb-3\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-3 col-form-label\",children:\"Comment\"}),/*#__PURE__*/_jsx(\"textarea\",{className:\"form-control\",rows:\"2\",value:comment,onChange:function onChange(e){return setComment(e.target.value);}})]})}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",type:\"submit\",children:\"Submit\"})]}):/*#__PURE__*/_jsxs(Message,{children:[\"Please \",/*#__PURE__*/_jsx(Link,{to:\"/login\",children:\" sign in\"}),\" to write a review\"]})]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:/*#__PURE__*/_jsx(\"h2\",{children:\"REVIEWS\"})}),product.reviews.length===0&&/*#__PURE__*/_jsx(Message,{children:\"No Review\"}),/*#__PURE__*/_jsx(\"ul\",{className:\"list-group list-group-flush\",children:product.reviews.map(function(review){return/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:review.name}),/*#__PURE__*/_jsx(Rating,{value:review.rating}),/*#__PURE__*/_jsx(\"p\",{children:review.createdAt.substring(0,10)}),/*#__PURE__*/_jsx(\"p\",{children:review.comment})]},review._id);})})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\"})]})]})]});};export default ProductScreen;","map":{"version":3,"sources":["/Users/adarshshukla/Desktop/E-Com/frontend/src/screens/ProductScreen.js"],"names":["React","useState","useEffect","Link","Rating","Message","Loader","useDispatch","useSelector","listProductDetails","createProductReview","PRODUCT_CREATE_REVIEW_RESET","ProductScreen","history","match","qty","setQty","rating","setRating","comment","setComment","dispatch","productDetails","state","loading","error","product","userLogin","userInfo","productReviewCreate","errorProductReview","successProductReview","success","alert","type","params","id","addToCartHandler","push","submitHandler","e","preventDefault","image","name","numReviews","price","description","countInStock","target","value","Array","keys","map","x","reviews","length","review","createdAt","substring","_id"],"mappings":"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","sourcesContent":["import React,{useState, useEffect} from 'react'\nimport {Link} from 'react-router-dom'\nimport Rating from '../components/Rating'\nimport Message from '../components/message'\nimport Loader from '../components/loader'\nimport {useDispatch, useSelector} from 'react-redux'\nimport {listProductDetails, createProductReview} from '../actions/productActions'\nimport {PRODUCT_CREATE_REVIEW_RESET} from '../constants/productConstants'\n\n\nconst ProductScreen = ({history,match}) => {\n    \n    const [qty, setQty] = useState(1)\n    const [rating, setRating] = useState(0)\n    const [comment, setComment] = useState('')\n\n    const dispatch = useDispatch()\n\n    const productDetails = useSelector( state => state.productDetails)\n    const {loading, error, product} = productDetails\n\n    const userLogin = useSelector( state => state.userLogin)\n    const {userInfo} = userLogin\n\n    const productReviewCreate = useSelector( state => state.productReviewCreate)\n    const {error: errorProductReview, success: successProductReview} = productReviewCreate\n\n    useEffect(() => {\n        if(successProductReview){\n            alert('Rating Submitted!')\n            setRating(0)\n            setComment('')\n            dispatch({type: PRODUCT_CREATE_REVIEW_RESET})\n        }\n        dispatch(listProductDetails(match.params.id))\n    },[dispatch, match,successProductReview])\n\n    const addToCartHandler = () =>{\n        history.push(`/cart/${match.params.id}?qty=${qty}`)\n    }\n    \n    const submitHandler = (e) => {\n        e.preventDefault()\n        dispatch(createProductReview(match.params.id, {rating,comment}))\n    }\n\n    return( \n        <div>\n            <Link className='btn btn-light my-2' to='/'>Go Back</Link>\n            {loading ? <Loader/> : error ? <Message varient='danger'>{error}</Message> : \n            <>\n                <div className=\"row\">\n                    <div className=\"col-md-6\">\n                        <img className=\"img-fluid\" src={product.image} alt={product.name}></img>\n                    </div>\n                    <div className=\"col-md-4\">\n                        <ul className=\"list-group list-group-flush\">\n                            <li className=\"list-group-item\"><h3>{product.name}</h3></li>\n                            <li className=\"list-group-item\"><Rating value={product.rating} text={`${product.numReviews} reviews`}></Rating></li>\n                            <li className=\"list-group-item\"><h4>Price: ${product.price}</h4></li>\n                            <li className=\"list-group-item\"><p>{product.description}</p></li>\n                        </ul>\n                        \n                    </div>\n                    <div className=\"col-md-2\">\n                        <div className=\"card\">\n                            <ul className=\"list-group list-group-flush\">\n                                <li className=\"list-group-item\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-5\">\n                                            Price:\n                                        </div>\n                                        <div className=\"col-md-7\">\n                                        ${product.price}\n                                        </div>\n                                    </div>\n                                </li>\n                                <li className=\"list-group-item\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-5\">\n                                            Status:\n                                        </div>  \n                                        <div className=\"col-md-7\">\n                                            {product.countInStock>0 ? 'In Stock' : 'Out Of Stock'}\n                                        </div>\n                                    </div>\n                                </li>\n                                {product.countInStock > 0 && (\n                                <li className=\"list-group-item\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-5\">\n                                            Oty:\n                                        </div>  \n                                        <div className=\"col-md-7\">\n                                            <select value={qty} onChange={(e) => setQty(e.target.value)}>\n                                                {[...Array(product.countInStock).keys()].map((x) => (\n\n                                                    <option key={x+1} value={x+1}>\n                                                        {x+1}\n                                                    </option>\n                                                ))}\n                                            </select>\n                                        </div>\n                                    </div>\n                                </li>\n                                )}\n                                \n                                <li className=\"list-group-item\">\n                                    <div className=\"row\">\n                                        <div className=\"col-md-12\">\n                                            <div className=\"d-grid gap-2\">\n                                                <button className=\"btn btn-dark\" type=\"button\" disabled={product.countInStock===0} onClick={addToCartHandler}>Add To Cart</button>\n                                            </div>\n                                        </div> \n                                    </div>\n                                </li>\n                            </ul>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"row py-3\">\n                    <div className=\"col-md-6\">\n                        <ul className=\"list-group list-group-flush\">\n                            <li className=\"list-group-item\">\n                                <h2>WRITE A CUSTOMER REVIEW</h2>\n                                {errorProductReview && <Message>{errorProductReview}</Message>}\n                                {userInfo ? (\n                                    <form onSubmit={submitHandler}>\n                                        <div className=\"input-group\" id='rating'>\n                                            <div className=\"mb-3\">\n                                                <label className=\"form-label\">Rating</label>\n                                                    <select className=\"form-select\" value={rating} onChange={(e) => setRating(e.target.value)} >\n                                                        <option value=''>select rating...</option>\n                                                        <option value=\"1\">1-poor</option>\n                                                        <option value=\"2\">2-Fair</option>\n                                                        <option value=\"3\">3-Good</option>\n                                                        <option value=\"4\">4-Very Good</option>\n                                                        <option value=\"5\">5-Excellent</option>\n                                                    </select>\n                                            </div>\n                                        </div>\n                                        <div className=\"input-group\" id='comment'>\n                                            <div className=\"mb-3\">\n                                                <label className=\"col-sm-3 col-form-label\">Comment</label>\n                                                <textarea className=\"form-control\" rows=\"2\" value={comment} onChange={(e) => setComment(e.target.value)}></textarea>\n                                            </div>\n                                        </div>\n                                        <button className=\"btn btn-primary\" type=\"submit\">Submit</button>\n                                    </form>\n                                ) : <Message>Please <Link to='/login'> sign in</Link> to write a review</Message>}\n                            </li>\n                            <li className=\"list-group-item\">\n                            <strong><h2>REVIEWS</h2></strong>\n                            {product.reviews.length === 0 && <Message>No Review</Message>}\n                            <ul className=\"list-group list-group-flush\">\n                                {product.reviews.map(review => (\n                                <li className=\"list-group-item\" key={review._id}>\n                                    <strong>{review.name}</strong>\n                                    <Rating value={review.rating}/>\n                                    <p>{review.createdAt.substring(0,10)}</p>\n                                    <p>{review.comment}</p>\n                                </li>\n                            ))}\n                        </ul>\n                            </li>\n                        </ul>\n                    </div>\n                    <div className=\"col-md-6\"></div>\n                    </div>\n                </>\n            }\n        </div>\n    )\n}\n\nexport default ProductScreen\n"]},"metadata":{},"sourceType":"module"}